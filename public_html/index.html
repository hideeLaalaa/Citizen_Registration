<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="http://login2explore.com/jpdb/docs.html#jpdb-commons-js-jpdb"></script>
        <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="header-container">
            <header class="wrapper clearfix">
                <h1 class="title">NIN Portal</h1>
                <nav>
                    <ul>
                        <li><a href="index.html">home</a></li>
                        <li><a href="dataPage.html">database</a></li>
                        <li><a href="#">contact us</a></li>
                    </ul>
                </nav>
            </header>
        </div>

        <div class="main-container">
            <div class="main wrapper clearfix">

                <div class="container">
                <h2>Registration form</h2>
                <form id="empForm" method="post">
                    <div class="form-group">
                        <span>
                            <label for="empId">Name:</label> <label id="empIdMsg">
                            </label>
                        </span>
                        <input type="text" class="form-control" name="name" id="name"
                               placeholder="Enter Employee ID" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="empName">Address:</label>
                        <input type="text" class="form-control" id="addr"
                               placeholder="Enter Employee Name" name="empName">
                    </div>
                    <div class="form-group">
                        <label for="empEmail">State of Origin:</label>
                        <input type="email" class="form-control" id="state"
                               placeholder="Enter Employee Email" name="empEmail">
                    </div>
                    <div class="form-group">
                        <label for="empEmail">Local Government:</label>
                        <input type="email" class="form-control" id="local"
                               placeholder="Enter Employee Email" name="empEmail">
                    </div>
                    <div class="form-group">
                        <label for="empEmail">Age:</label>
                        <input type="email" class="form-control" id="age"
                               placeholder="Enter Employee Email" name="empEmail">
                    </div>
                    <div class="form-group">
                        <label for="empEmail">Email:</label>
                        <input type="email" class="form-control" id="email"
                               placeholder="Enter Employee Email" name="empEmail">
                    </div>
                    <div class="form-group">
                        <label for="empEmail">Phone Number:</label>
                        <input type="email" class="form-control" id="phone"
                               placeholder="Enter Employee Email" name="empEmail">
                    </div>
                    <br/>
                    <input type="button" class="btn btn-primary" id="save" value="Save"
                           onclick="saveCitizen();">
                </form>
            </div>

<!--                <aside>
                    <h3>aside</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices.</p>
                </aside>-->

            </div> <!-- #main -->
        </div> <!-- #main-container -->
<!--
        <div class="footer-container">
            <footer class="wrapper">
                <h3>footer</h3>
            </footer>
        </div>-->

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
        
         <script src=" http://login2explore.com/jpdb/resources/js/0.0.3/jpdb-commons.js "></script>
    <script>
        $("#empId").focus();
        function validateAndGetFormData() {
            var name = $("#name").val();
            if (name === "") {
                alert("name is Required Value");
                $("#name").focus();
                return "";
            }
            var age = $("#age").val();
            if (age === "") {
                alert("age is Required Value");
                $("#age").focus();
                return "";
            }
            var email = $("#email").val();
            if (email === "") {
                alert("Email is Required Value");
                $("#email").focus();
                return "";
            }
            var addr = $("#addr").val();
            if (addr === "") {
                alert("Address is Required Value");
                $("#addr").focus();
                return "";
            }
            var state = $("#state").val();
            if (state === "") {
                alert("State is Required Value");
                $("#state").focus();
                return "";
            }
            var local = $("#local").val();
            if (local === "") {
                alert("Local is Required Value");
                $("#local").focus();
                return "";
            }
            var nin=Math.floor(Math.random()*100000000);
            var jsonStrObj = {
                name: name,
                email: email,
                addr: addr,
                state: state,
                local: local,
                phone: phone,
                nin:nin,
                age: age
            };
            return JSON.stringify(jsonStrObj);
        }
        function resetForm() {
            $("#name").val("")
            $("#age").val("");
            $("#email").val("");
            $("#addr").val("");
            $("#state").val("");
            $("#local").val("");
            $("#phone").val("");
            $("#name").focus();
        }
        function saveCitizen() {
            var jsonStr = validateAndGetFormData();
            if (jsonStr === "") {
                return;
            }
            var putReqStr = createPUTRequest("90936013|-31948847270268116|90934240",
                jsonStr, "Citizen", "Cit-Nin");
//            alert(putReqStr);
            jQuery.ajaxSetup({ async: false });
            var resultObj = executeCommandAtGivenBaseUrl(putReqStr,
                "http://api.login2explore.com:5577", "/api/iml");
            alert("SUCCESSFUL");
            jQuery.ajaxSetup({ async: true });
            resetForm();
        }
    </script>
    </body>
</html>
